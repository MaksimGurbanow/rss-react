import{n as e,r as a,w as h,x as g,p as u}from"./components-DYEYZaig.js";import{c as j,B as p,f as x}from"./formatAddress-DbCsjo9G.js";const v=({children:s})=>e.jsxs("div",{className:"description-block","data-testid":"description-block",children:[e.jsx("h5",{children:"Description"}),e.jsx("div",{children:s})]}),f=s=>e.jsxs("div",{className:"properties-container",children:[e.jsx("h5",{children:"Properties"}),Object.entries(s).map(([t,i])=>i&&e.jsxs("div",{className:"item-property","data-testid":"item-property",children:[e.jsx("div",{className:"item-property-name",children:t}),e.jsx("div",{className:"item-property-content",children:i.toString()})]},`value-${i}-key-${t}`))]}),b=({description:s,price:t,rating:i,brand:d,title:r,images:l})=>e.jsxs("div",{className:"item-details","data-testid":"item-details",children:[e.jsx("h3",{className:"item-details-name","data-testid":"item-details-name",children:j(r)}),e.jsx("img",{alt:"Sprite",src:l[0],className:"item-details-image","data-testid":"item-details-image"}),e.jsx(v,{children:s}),e.jsx(f,{price:t,brand:d,rating:i})]}),w=s=>a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",className:"bi bi-x-lg",viewBox:"0 0 16 16",...s},a.createElement("path",{d:"M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z"})),N=s=>a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",className:"bi bi-caret-left-fill",viewBox:"0 0 16 16",...s},a.createElement("path",{d:"m3.86 8.753 5.482 4.796c.646.566 1.658.106 1.658-.753V3.204a1 1 0 0 0-1.659-.753l-5.48 4.796a1 1 0 0 0 0 1.506z"})),L=()=>{const{product:s,id:t}=h(),[i,d]=a.useState(),[r,l]=a.useState(!!t),n=g(),{pathname:o,search:m}=u();return a.useEffect(()=>{d(t||localStorage.getItem("id")||"")},[]),a.useEffect(()=>(l(!!t),t&&localStorage.setItem("id",t||""),()=>{t&&localStorage.setItem("id",t||"")}),[t]),e.jsxs("div",{className:`details-page ${r?"":"details-page__disabled"}`,"data-testid":"details-page",children:[e.jsxs("div",{className:`details-page-container ${r?"opened":"closed"}`,children:[s&&e.jsx(b,{...s}),e.jsx(p,{onClick:()=>{l(c=>!c),n(x({search:m,pathname:o,disableDetails:!0}),{replace:!0})},disabled:!r,testid:"details-close-button",children:e.jsx(w,{})})]}),e.jsx(p,{testid:"open-details-button",onClick:()=>{n(x({search:m,pathname:o,newId:i||t}),{replace:!0}),l(c=>!c)},className:`open-details-button ${r?"open-details-button__disabled":""}`,children:e.jsx(N,{})})]})};export{L as default};
